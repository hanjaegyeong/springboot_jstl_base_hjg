package com.spring.s3.config;

@Configuration
public class S3Config {
   @Value("${cloud.aws.credentials.access-key}")
   private String accessKey;
   @Value("${cloud.aws.credentials.secret-key}")
   private String secretKey;
   @Value("${cloud.aws.region.static}")
   private String region;

   @Bean
   public AmazonS3Client amazonS3Client() {
      BasicAWSCredentialsawsCredentials= new BasicAWSCredentials(accessKey, secretKey);
      return (AmazonS3Client)AmazonS3ClientBuilder.standard()
         .withRegion(region)
         .withCredentials(new AWSStaticCredentialsProvider(awsCredentials))
         .build();
   }
}